package com.irctc.controller; import org.springframework.web.bind.annotation.*; import com.irctc.service.BookingService; import com.irctc.dto.BookingRequestDto; import com.irctc.entity.Booking;
@RestController @RequestMapping("/api/bookings") public class BookingController { private final BookingService bookingService; public BookingController(BookingService service){this.bookingService=service;} @PostMapping public Booking createBooking(@RequestBody BookingRequestDto req){ return bookingService.bookTicket(req); } @GetMapping("/{pnr}") public Booking getByPnr(@PathVariable String pnr){ return bookingService.getBookingByPnr(pnr); } @PostMapping("/{pnr}/cancel") public void cancel(@PathVariable String pnr){ bookingService.cancelBooking(pnr); } }
